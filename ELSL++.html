<!-- This tool was made by Mr. Asterisk to empower individuals to learn programming their way, using their own words, and at their own pace effortlessly. -->
<!DOCTYPE html>
<html>
<head>
    <title>elsl++transterpreter</title>
    <style>
        body {
            zoom: 200%;
        }
        #output {
            border: 1px solid #ccc;
            padding: 10px;
            white-space: pre-wrap; /* Keeps the formatting of the output */
        }
        #input {
            width: 100%;
            height: 150px;
        }
        body.dark-mode {
            background-color: #333;
            color: #fff;
        }
        .dropdown {
            position: absolute;
            top: 10px;
            right: 15%;
        }
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f9f9f9;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
            z-index: 1;
        }
        .dropdown:hover .dropdown-content {
            display: block;
        }
        .dropdown-button {
            background-color: transparent;
            border: none;
            cursor: pointer;
        }
        .dropdown-button:hover {
            background-color: #f1f1f1;
        }
        .bottom-right {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        #exportToFileButton {
            right: 10%;
        }
    </style>
</head>
<body>

<h1> Elsl++ </h1>
<h3>Customizable Scripting Translator By: Mr.Asterisk</h3>
<!--Made as originally just ELSL to C++ Translator via interpretation based on webscript bat2html converter by:PGD-->
<!-- Input for custom ELSL code -->
<textarea id="input" placeholder="Enter your ELSL code here..."></textarea>

<button id="translateButton">Compile/Re-Compile</button>
<button id="typeCycleButton">Type Cycle</button>

<!-- Dropdown menu for Editing actions -->
<div class="dropdown" style="right: 30%;">
    <button class="dropdown-button">Syntax Editing</button>
    <div class="dropdown-content">
        <button id="loadCustomSyntaxButton">Load Custom Syntax</button>
        <button id="refreshBindingsButton">Refresh Bindings</button>
        <button id="saveBindingsButton">Save Bindings</button>
    </div>
</div>

<!-- Dropdown menu for Options -->
<div class="dropdown" style="right: 7%;">
    <button class="dropdown-button">Options</button>
    <div class="dropdown-content">
        <button id="changeThemeButton">Change Theme</button>
        <button id="darkModeButton">Dark Mode</button>
        <button id="liveCodeButton">Live Coding</button>
    </div>
</div>

<!-- Output translated C++ code -->
<div id="output"></div>

<!-- File input for custom syntax JSON -->
<input type="file" id="customSyntaxInput" style="display: none;">

<!-- Dropdown menu for Export options -->
<div class="dropdown bottom-right" style="right: 20%;">
    <button class="dropdown-button">Export</button>
    <div class="dropdown-content">
        <button id="copyToClipboardButton">Copy to Clipboard</button>
        <button id="exportToFileButton">Export to File</button>
    </div>
</div>


<script>
    // Default translations
    var defaultTranslations = {
        // Variable types and data types
        'var': 'int', // Default type, could vary
        'let': 'int', // Default type, could vary
        'const': 'const',
        'string': 'std::string',
        'number': 'int', // Adjust based on context
        'branch': 'bool',
        'matrix': 'std::vector',
        'object': 'struct',

        // Operators
        'PLUS': '+',
        'MINUS': '-',
        'TIMES': '*',
        'DIVIDE': '/',
        'EQUAL': '==',
        'NOTEQUAL': '!=',
        'GREATERTHAN': '>',
        'LESSTHAN': '<',
        'GREATERTHANOREQUAL': '>=',
        'LESSTHANOREQUAL': '<=',
        'AND': '&&',
        'OR': '||',
        'NOT': '!',

        // Control structures
        'if': 'if',
        'else': 'else',
        'for': 'for',
        'while': 'while',
        'function': 'void', // Adjust based on context

        // Miscellaneous
        '{comment}': '//',
        'AddDependency': '#include',
        'DisplayTextOnScreen': 'std::cout <<',

        // Special syntax handling
        ';': ';' // Removed the newline after semicolon
    };

    var translations = Object.assign({}, defaultTranslations); // Copy default translations

    // List of available types to cycle through
    var availableTypes = ['int', 'bool', 'std::string', 'std::vector', 'struct', 'const'];
    var currentTypeIndex = 0; // Initialize to the first type

    var liveCodingEnabled = false;

    // Add event listener for key press (backslash key for type cycling)
    document.getElementById("input").addEventListener("keydown", function(event) {
        if (event.key === "\\") { // Check if the backslash key is pressed
            // Cycle to the next type
            currentTypeIndex = (currentTypeIndex + 1) % availableTypes.length;
            // Update the translation for 'var' and 'let' to the current type
            translations['var'] = translations['let'] = availableTypes[currentTypeIndex];
            // Update the translated output
            translateELSL();
            // Prevent the backslash key from entering into the textarea
            event.preventDefault();
        }
    });

    document.getElementById("translateButton").addEventListener("click", translateELSL);

    // Dropdown menu actions
    document.getElementById("loadCustomSyntaxButton").addEventListener("click", loadCustomSyntax);
    document.getElementById("refreshBindingsButton").addEventListener("click", refreshBindings);
    document.getElementById("saveBindingsButton").addEventListener("click", saveBindings);

    // Dropdown menu options
    document.getElementById("changeThemeButton").addEventListener("click", changeTheme);
    document.getElementById("darkModeButton").addEventListener("click", toggleDarkMode);
    document.getElementById("liveCodeButton").addEventListener("click", toggleLiveCoding);
    document.getElementById("typeCycleButton").addEventListener("click", cycleType);

    // Export options
    document.getElementById("copyToClipboardButton").addEventListener("click", copyToClipboard);
    document.getElementById("exportToFileButton").addEventListener("click", exportToFile);

    function translateELSL() {
        var input = document.getElementById("input").value;
        var output = "";

        // Split the input into lines for processing
        var lines = input.split("\n");

        for (var i = 0; i < lines.length; i++) {
            var line = lines[i].trim();
            var words = line.split(/\s+/);

            for (var j = 0; j < words.length; j++) {
                var word = words[j];
                var translatedWord = translations[word] || word;

                // Append the translated word to the output
                output += translatedWord;

                // Add a space after each word
                output += " ";
            }

            // Add a newline after each line
            output += "\n";
        }

        // Update the output div
        document.getElementById("output").innerText = output;
    }

    function loadCustomSyntax() {
        var fileInput = document.getElementById("customSyntaxInput");
        fileInput.addEventListener("change", function(event) {
            var file = event.target.files[0];
            var reader = new FileReader();
            reader.onload = function() {
                try {
                    var loadedTranslations = JSON.parse(reader.result);
                    if (JSON.stringify(loadedTranslations) !== JSON.stringify(defaultTranslations)) {
                        // Use the loaded custom syntax
                        translations = loadedTranslations;
                        alert("Custom syntax loaded successfully.");
                    } else {
                        alert("Custom syntax is the same as default. Choose a different file.");
                    }
                } catch (error) {
                    alert("Invalid JSON syntax in the selected file.");
                }
            };
            if (file) {
                reader.readAsText(file);
            }
        });
        // Trigger the file input dialog
        fileInput.click();
    }

    function refreshBindings() {
        // You can implement the logic for refreshing bindings here
        // This could involve resetting custom translations to default or other actions
        alert("Bindings refreshed.");
    }

    function saveBindings() {
        // You can implement the logic for saving bindings here
        // This could involve saving the current translations to a file or other actions
        alert("Bindings saved.");
    }

    function changeTheme() {
        var imageUrl = prompt("Enter the URL of the background image to change the theme:");
        if (imageUrl) {
            document.body.style.backgroundImage = 'url(' + imageUrl + ')';
        }
    }

    function cycleType() {
        // Cycle to the next type
        currentTypeIndex = (currentTypeIndex + 1) % availableTypes.length;
        // Update the translation for 'var' and 'let' to the current type
        translations['var'] = translations['let'] = availableTypes[currentTypeIndex];
        // Update the translated output
        translateELSL();
    }

    function toggleLiveCoding() {
        liveCodingEnabled = !liveCodingEnabled;
        document.getElementById("liveCodeButton").innerText = liveCodingEnabled ? "Stop Live Code" : "Live Code";
        if (liveCodingEnabled) {
            // Run translateELSL every 100 milliseconds while live coding is enabled
            setInterval(translateELSL, 100);
        }
    }

    function toggleDarkMode() {
        document.body.classList.toggle('dark-mode');
    }

    function copyToClipboard() {
        var output = document.getElementById("output");
        var textArea = document.createElement("textarea");
        textArea.value = output.innerText;
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand('copy');
        document.body.removeChild(textArea);
        alert("Output copied to clipboard!");
    }

    function exportToFile() {
        var output = document.getElementById("output").innerText;
        var fileName = prompt("Enter a file name (e.g., output.cpp):");
        if (fileName) {
            var blob = new Blob([output], { type: 'text/plain' });
            var url = URL.createObjectURL(blob);
            var a = document.createElement('a');
            a.href = url;
            a.download = fileName;
            document.body.appendChild(a);
            a.click();
            window.URL.revokeObjectURL(url);
            document.body.removeChild(a);
        }
    }
</script>

</body>
</html>